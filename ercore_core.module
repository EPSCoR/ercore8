<?php

/**
 * @file
 * Hook implementations for the ERCore module.
 */

use Drupal\Core\Form\FormStateInterface;

/**
 * Implements hook_form_alter().
 */
function ercore_core_form_alter(&$form, FormStateInterface $form_state, $form_id) {
  if ($form_id === 'user_form') {
    $form['field_test_text']['#states'] = array(
      'visible' => array(
        ':input[name="field_ercore_overall_roles"]' => array('value' => 'undergraduate'),
      ),
    );
  }
}

/**
 * Description.
 *
 * @param array $roles
 *   User roles associated with an account.
 *
 * @return bool
 *   Return a boolean if the user account belongs to an ERCore admin account.
 */
function ercore_core_is_admin(array $roles) {
  $admin_roles = array(
    'administrator',
    'administrative staff',
    'site manager',
  );
  if (!in_array($roles, $admin_roles)) {
    return TRUE;
  }
  return FALSE;
}

